{% extends 'pressing/base.html' %}
{% block content %}

<div class="container mt-4">
    <br/><br/>
    <h3 class="text-center mb-4">Les articles de la commande</h3>
    <br/><br/><br/><br/>

    <div class="row justify-content-center">
        {% for item in order.order_item_set.all %}  
        <div class="col-md-4 mb-4 d-flex justify-content-center">
            <div class="card shadow-sm" style="width: 16rem;">
                {% if item.clothes.image %}
                <img class="card-img-top" src="{{ item.clothes.image.url }}" alt="..." style="width: 100%; height: 200px;"/>
                {% else %}
                <img src="https://via.placeholder.com/150" class="card-img-top" alt="Image non disponible" style="height: 180px; object-fit: cover;">
                {% endif %}

                <div class="card-body text-center">
                    <h5 class="card-title">{{ item.clothes.name }}</h5>
                    <p class="card-text">
                        <strong>Quantité:</strong> {{ item.quantity }} <br/>
                        <strong>Prix:</strong> ${{ item.clothes.price }} <br/>                    </p>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p>Aucun article trouvé pour cette commande.</p>
        </div>
        {% endfor %}
      
    </div>
    <br/><br/><br/>
        <!-- Centrage du bouton -->
    <div class="text-center mt-4 mb-5">
        <form method="POST" class="text-center mt-4">
            {% csrf_token %}
                {% if not order.delivered %}
            <input type="hidden" name="delivered-status" value="true">
            <button type="submit" class="btn btn-danger btn-lg">Marquer comme livrée</button>
                {% else %}    
            <input type="hidden" name="delivered-status" value="false">
            <button type="submit" class="btn btn-danger btn-lg">Marquer comme non livrée</button>
                {% endif %}
        </form>
        
    </div>
    <br/><br/><br/><br/>
</div>

{% endblock %}
